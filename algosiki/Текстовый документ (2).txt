#include <stdio.h>
#include <stdlib.h>

void input_arr(int n, int** arr){ //lab10
    *arr = (int*)malloc(sizeof(int) * n);
    printf("Enter the array elements: ");
    for (int i = 0; i < n; i++) scanf("%d", &(*arr)[i]);
}

void print_arr(int n, int* arr){ //lab10
    for (int i = 0; i < n; i++) printf("%d ", arr[i]);
    printf("\n");
}

int sum_of_digits(int n){ //lab10
    n = (n > 0) ? n : -n;
    int sum = 0;
    while (n > 0){
        sum += n % 10;
        n /= 10;
    }
    return sum;
}

double sum_of_array(int n, double* arr){ //lab11
    double sum = 0;
    for (int i = 0; i < n; i++) sum += arr[i];
    return sum;
}

void input_matrix(int** arr, int m, int n) { //lab13
    printf("Input matrix:\n");
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            scanf("%d", &arr[i][j]);
        }
    }
}

void print_matrix(int** arr, int m, int n) { //lab13
    printf("Matrix:\n");
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            printf("%d ", arr[i][j]);
        }
        printf("\n");
    }
}

void read_matrix(FILE* file, double** arr, int m) { //lab14
    for (int i = 0; i < m; i++) {
        fscanf(file, "%lf %lf %lf", &arr[i][0], &arr[i][1], &arr[i][2]);
    }
}

int min(double* arr, int n) { //returns index
    int mini = 0;
    for (int i = 1; i < n; i++) {
        if (arr[mini] > arr[i]) mini = i;
    }
    return mini;
}

int max(double* arr, int n) { //returns index
    int maxi = 0;
    for (int i = 1; i < n; i++) {
        if (arr[maxi] < arr[i]) maxi = i;
    }
    return maxi;
}


###################################

#include <stdio.h>

int main() {
    int rows = 9, cols = 21;
    double k = (double)rows/cols;
    
    for (int y = 0; y < rows; y++) {
        for (int x = 0; x < cols; x++) {
            if <cond>) {
                printf("X ");
            } else {
                printf(". ");
            }
        }
        printf("\n");
    }
    return 0;
}


((rows-y-1 < 2*k*(cols-x-1)) && (rows-y-1 < 2*k*x)):
. . . . . . . . . . X . . . . . . . . . . 
. . . . . . . . . X X X . . . . . . . . . 
. . . . . . . . X X X X X . . . . . . . . 
. . . . . . X X X X X X X X X . . . . . . 
. . . . . X X X X X X X X X X X . . . . . 
. . . . X X X X X X X X X X X X X . . . . 
. . . X X X X X X X X X X X X X X X . . . 
. . X X X X X X X X X X X X X X X X X . . 
. X X X X X X X X X X X X X X X X X X X . 



((y < 2*k*(cols-x-1)) && (y < 2*k*x))
. X X X X X X X X X X X X X X X X X X X . 
. . X X X X X X X X X X X X X X X X X . . 
. . . X X X X X X X X X X X X X X X . . . 
. . . . X X X X X X X X X X X X X . . . . 
. . . . . X X X X X X X X X X X . . . . . 
. . . . . . X X X X X X X X X . . . . . . 
. . . . . . . . X X X X X . . . . . . . . 
. . . . . . . . . X X X . . . . . . . . . 
. . . . . . . . . . X . . . . . . . . . . 



(2*y < k*x)
. X X X X X X X X X X X X X X X X X X X X 
. . . . . X X X X X X X X X X X X X X X X 
. . . . . . . . . . X X X X X X X X X X X 
. . . . . . . . . . . . . . . X X X X X X 
. . . . . . . . . . . . . . . . . . . X X 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 


(2*y < k*x + cols/2 && y > rows/2 - 1)
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . 
. X X X X X X X X X X X X X X X X X X X X 
. . . . . X X X X X X X X X X X X X X X X 
. . . . . . . . . X X X X X X X X X X X X 
. . . . . . . . . . . . . X X X X X X X X 
. . . . . . . . . . . . . . . . . X X X X 



((y-10)*(y-10) + (x-10)*(x-10) <= 100)
. . . . . . . . . . X . . . . . . . . . . 
. . . . . . X X X X X X X X X . . . . . . 
. . . . X X X X X X X X X X X X X . . . . 
. . . X X X X X X X X X X X X X X X . . . 
. . X X X X X X X X X X X X X X X X X . . 
. . X X X X X X X X X X X X X X X X X . . 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
X X X X X X X X X X X X X X X X X X X X X 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
. X X X X X X X X X X X X X X X X X X X . 
. . X X X X X X X X X X X X X X X X X . . 
. . X X X X X X X X X X X X X X X X X . . 
. . . X X X X X X X X X X X X X X X . . . 
. . . . X X X X X X X X X X X X X . . . . 
. . . . . . X X X X X X X X X . . . . . . 
. . . . . . . . . . X . . . . . . . . . . 


    Матрица с подходящими числами в закрашенной области → вывод столбцов.

    Матрица без подходящих чисел в закрашенной области → сообщение.

    Пустая закрашенная область → сообщение.

    Большая матрица → корректность и скорость.

    Повторяющиеся подходящие числа в одном столбце → столбец выводится один раз.

    Граничные числа (2, 3, 0, отрицательные) → корректность учёта.

    Корректность работы подпрограмм ввода/вывода.




#include <stdio.h>
#include <math.h>

double** from_file_array_2d_double(char* filename, int* n) {
    FILE *file = fopen(filename, "r");
    int i;

    fscanf(file, "%d", n);
    
    double** matrix = (double**)malloc(*n * sizeof(double*));
    
    for (i = 0; i < *n; i++) {
        matrix[i] = (double*)malloc(3 * sizeof(double));
    }

    for (i = 0; i < *n; i++) {
        fscanf(file, "%lf %lf %lf", &matrix[i][0], &matrix[i][1], &matrix[i][2]);
    }

    fclose(file);
    return matrix;
}


int solve_linear(double b, double c, double *x1) {
    if (b != 0) {
        *x1 = -c / b;
        return 1;
    } else {
    	if (c == 0) return -1;
     	else return 0;
    }
}


int solve_quadratic(double a, double b, double c, double *x1, double *x2) {
    double d = (b * b) - (4 * a * c);
	if (a == 0) return solve_linear(b, c, x1);
	
    if (d > 0) {
        *x1 = (-b + sqrt(d)) / (2 * a);
        *x2 = (-b - sqrt(d)) / (2 * a);
        return 2;
    } 
    else {
        if (d == 0)  {
            *x1 = -b / (2 * a);
            return 1;
        } 
        else return 0;
    }
}

int main()
{
    int n, i, solutions;
    char* f = "test.txt";
    double x1, x2;
    double** matrix = from_file_array_2d_double(f, &n);
    for (i = 0; i < n; i++) {
    	printf("For a=%lf b=%lf c=%lf\n", matrix[i][0], matrix[i][1], matrix[i][2]);
    	printf("Solution of the equation %lf*x^2+%lf*x+%lf=0:\n", matrix[i][0], matrix[i][1], matrix[i][2]);
    	
        solutions = solve_quadratic(matrix[i][0], matrix[i][1], matrix[i][2], &x1, &x2);
        
        if (solutions == 2) printf("X1=%lf X2=%lf", x1, x2);
        else if (solutions == 1) printf("X1=%lf", x1);
        else if (solutions == 0) printf("No solution");
        else printf("X - any number");
        
        printf("\n\n");
    }
    	
    	
    for (i = 0; i < n; i ++) free(matrix[i]);
    free (matrix);
    return 0;
}

